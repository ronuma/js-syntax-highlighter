<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" href="styles.css" />
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
      <title>JS Syntax Highlighter</title></head><body><pre>
<span class="keyword">import</span><span class="space"> </span><span class="special">{</span><span class="var">createSlice</span><span class="special">}</span><span class="space"> </span><span class="var">from</span><span class="space"> </span><span class="string">"@reduxjs/toolkit"</span><br><br><span class="keyword">const</span><span class="space"> </span><span class="var">instruments</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="special">createSlice(</span><span class="special">{</span><br><span class="space">   </span><span class="punctuation">name:</span><span class="space"> </span><span class="string">"instruments"</span><span class="punctuation">,</span><br><span class="space">   </span><span class="punctuation">initialState:</span><span class="space"> </span><span class="special">{</span><br><span class="space">      </span><span class="comment">// ejemplo de como se verÃ­an los instrumentos</span><br><span class="space">      </span><span class="comment">// {id: 1, name: "Piano", selected: false}</span><br><span class="space">      </span><span class="punctuation">instruments:</span><span class="space"> </span><span class="special">[</span><span class="special">]</span><span class="punctuation">,</span><br><span class="space">      </span><span class="punctuation">selectedInstrumentIds:</span><span class="space"> </span><span class="special">[</span><span class="special">]</span><span class="punctuation">,</span><br><span class="space">      </span><span class="punctuation">noInstrumentsSelected:</span><span class="space"> </span><span class="boolean">true</span><span class="punctuation">,</span><br><span class="space">      </span><span class="punctuation">showModal:</span><span class="space"> </span><span class="boolean">true</span><span class="punctuation">,</span><br><span class="space">   </span><span class="special">}</span><span class="punctuation">,</span><br><span class="space">   </span><span class="punctuation">reducers:</span><span class="space"> </span><span class="special">{</span><br><span class="space">      </span><span class="punctuation">setInstruments:</span><span class="space"> </span><span class="special">(</span><span class="var">state</span><span class="punctuation">,</span><span class="space"> </span><span class="var">action</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">         </span><span class="number">state</span><span class="punctuation">.</span><span class="var">instruments</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">action</span><span class="punctuation">.</span><span class="var">payload</span><br><span class="space">      </span><span class="special">}</span><span class="punctuation">,</span><br><span class="space">      </span><span class="punctuation">setShowModal:</span><span class="space"> </span><span class="special">(</span><span class="var">state</span><span class="punctuation">,</span><span class="space"> </span><span class="var">action</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">         </span><span class="number">state</span><span class="punctuation">.</span><span class="var">showModal</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">action</span><span class="punctuation">.</span><span class="var">payload</span><br><span class="space">      </span><span class="special">}</span><span class="punctuation">,</span><br><span class="space">      </span><span class="punctuation">selectInstrument:</span><span class="space"> </span><span class="special">(</span><span class="var">state</span><span class="punctuation">,</span><span class="space"> </span><span class="var">action</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">         </span><span class="keyword">const</span><span class="space"> </span><span class="var">index</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">state</span><span class="punctuation">.</span><span class="number">instruments</span><span class="punctuation">.</span><span class="special">findIndex(</span><br><span class="space">            </span><span class="var">instrument</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">id</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">=</span><span class="boolean">=</span><span class="space"> </span><span class="number">action</span><span class="punctuation">.</span><span class="var">payload</span><br><span class="space">         </span><span class="special">)</span><br><span class="space">         </span><span class="number">state</span><span class="punctuation">.</span><span class="var">instruments</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">state</span><span class="punctuation">.</span><span class="number">instruments</span><span class="punctuation">.</span><span class="special">map(</span><span class="special">(</span><span class="var">instrument</span><span class="punctuation">,</span><span class="space"> </span><span class="var">i</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">            </span><span class="keyword">if</span><span class="space"> </span><span class="special">(</span><span class="var">i</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">=</span><span class="boolean">=</span><span class="space"> </span><span class="var">index</span><span class="special">)</span><span class="space"> </span><span class="special">{</span><br><span class="space">               </span><span class="keyword">return</span><span class="space"> </span><span class="special">{</span><br><span class="space">                  </span><span class="punctuation">.</span><span class="punctuation">.</span><span class="punctuation">.</span><span class="var">instrument</span><span class="punctuation">,</span><br><span class="space">                  </span><span class="punctuation">selected:</span><span class="space"> </span><span class="boolean">!</span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">selected</span><span class="punctuation">,</span><br><span class="space">               </span><span class="special">}</span><br><span class="space">            </span><span class="special">}</span><br><span class="space">            </span><span class="keyword">return</span><span class="space"> </span><span class="var">instrument</span><br><span class="space">         </span><span class="special">}</span><span class="special">)</span><br><span class="space">         </span><span class="number">state</span><span class="punctuation">.</span><span class="var">selectedInstrumentIds</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">state</span><span class="punctuation">.</span><span class="var">instruments</span><br><span class="space">            </span><span class="punctuation">.</span><span class="special">filter(</span><span class="var">instrument</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">selected</span><span class="special">)</span><br><span class="space">            </span><span class="punctuation">.</span><span class="special">map(</span><span class="var">instrument</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">id</span><span class="special">)</span><br><span class="space">         </span><span class="number">state</span><span class="punctuation">.</span><span class="var">noInstrumentsSelected</span><span class="space"> </span><span class="boolean">=</span><span class="space"> </span><span class="number">state</span><span class="punctuation">.</span><span class="number">instruments</span><span class="punctuation">.</span><span class="special">every(</span><br><span class="space">            </span><span class="var">instrument</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="boolean">!</span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">selected</span><br><span class="space">         </span><span class="special">)</span><br><span class="space">      </span><span class="special">}</span><span class="punctuation">,</span><br><span class="space">   </span><span class="special">}</span><span class="punctuation">,</span><br><span class="special">}</span><span class="special">)</span><br><br><span class="keyword">export</span><span class="space"> </span><span class="keyword">function</span><span class="space"> </span><span class="special">parseGenresArray(</span><span class="var">genres</span><span class="special">)</span><span class="space"> </span><span class="special">{</span><br><span class="space">   </span><span class="keyword">return</span><span class="space"> </span><span class="number">genres</span><span class="punctuation">.</span><span class="var">length</span><span class="space"> </span><span class="boolean">></span><span class="space"> </span><span class="number">1</span><br><span class="space">      </span><span>?</span><span class="space"> </span><span class="number">genres</span><span class="punctuation">.</span><span class="special">map(</span><span class="special">(</span><span class="var">genre</span><span class="punctuation">,</span><span class="space"> </span><span class="var">index</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">           </span><span class="keyword">if</span><span class="space"> </span><span class="special">(</span><span class="var">index</span><span class="space"> </span><span class="boolean"><</span><span class="space"> </span><span class="number">genres</span><span class="punctuation">.</span><span class="var">length</span><span class="space"> </span><span class="boolean">-</span><span class="space"> </span><span class="number">1</span><span class="special">)</span><span class="space"> </span><span class="special">{</span><br><span class="space">              </span><span class="keyword">return</span><span class="space"> </span><span class="number">genre</span><span class="punctuation">.</span><span class="var">name</span><span class="space"> </span><span class="boolean">+</span><span class="space"> </span><span class="string">", "</span><br><span class="space">           </span><span class="special">}</span><span class="space"> </span><span class="keyword">else</span><span class="space"> </span><span class="special">{</span><br><span class="space">              </span><span class="keyword">return</span><span class="space"> </span><span class="number">genre</span><span class="punctuation">.</span><span class="var">name</span><br><span class="space">           </span><span class="special">}</span><br><span class="space">        </span><span class="special">}</span><span class="special">)</span><br><span class="space">      </span><span>:</span><span class="space"> </span><span class="var">genres</span><span class="special">[</span><span class="number">0</span><span class="special">]</span><span class="punctuation">.</span><span class="var">name</span><br><span class="special">}</span><br><br><span class="keyword">export</span><span class="space"> </span><span class="keyword">function</span><span class="space"> </span><span class="special">parseInstrumentsArray(</span><span class="var">instruments</span><span class="special">)</span><span class="space"> </span><span class="special">{</span><br><span class="space">   </span><span class="keyword">return</span><span class="space"> </span><span class="number">instruments</span><span class="punctuation">.</span><span class="var">length</span><span class="space"> </span><span class="boolean">></span><span class="space"> </span><span class="number">1</span><br><span class="space">      </span><span>?</span><span class="space"> </span><span class="number">instruments</span><span class="punctuation">.</span><span class="special">map(</span><span class="special">(</span><span class="var">instrument</span><span class="punctuation">,</span><span class="space"> </span><span class="var">index</span><span class="special">)</span><span class="space"> </span><span class="boolean">=</span><span class="boolean">></span><span class="space"> </span><span class="special">{</span><br><span class="space">           </span><span class="keyword">if</span><span class="space"> </span><span class="special">(</span><span class="var">index</span><span class="space"> </span><span class="boolean"><</span><span class="space"> </span><span class="number">instruments</span><span class="punctuation">.</span><span class="var">length</span><span class="space"> </span><span class="boolean">-</span><span class="space"> </span><span class="number">1</span><span class="special">)</span><span class="space"> </span><span class="special">{</span><br><span class="space">              </span><span class="keyword">return</span><span class="space"> </span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">name</span><span class="space"> </span><span class="boolean">+</span><span class="space"> </span><span class="string">", "</span><br><span class="space">           </span><span class="special">}</span><span class="space"> </span><span class="keyword">else</span><span class="space"> </span><span class="special">{</span><br><span class="space">              </span><span class="keyword">return</span><span class="space"> </span><span class="number">instrument</span><span class="punctuation">.</span><span class="var">name</span><br><span class="space">           </span><span class="special">}</span><br><span class="space">        </span><span class="special">}</span><span class="special">)</span><br><span class="space">      </span><span>:</span><span class="space"> </span><span class="var">instruments</span><span class="special">[</span><span class="number">0</span><span class="special">]</span><span class="punctuation">.</span><span class="var">name</span><br><span class="special">}</span><br><br><span class="keyword">export</span><span class="space"> </span><span class="keyword">const</span><span class="space"> </span><span class="special">{</span><span class="var">setInstruments</span><span class="punctuation">,</span><span class="space"> </span><span class="var">selectInstrument</span><span class="punctuation">,</span><span class="space"> </span><span class="var">setShowModal</span><span class="special">}</span><span class="space"> </span><span class="boolean">=</span><br><span class="space">   </span><span class="number">instruments</span><span class="punctuation">.</span><span class="var">actions</span><br><span class="keyword">export</span><span class="space"> </span><span class="keyword">default</span><span class="space"> </span><span class="number">instruments</span><span class="punctuation">.</span><span class="var">reducer</span><br><br></pre></body></html>